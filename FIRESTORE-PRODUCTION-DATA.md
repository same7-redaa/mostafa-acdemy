# ๐ ุงูุจูุงูุงุช ุงููุงููุฉ ูู Firestore - ูุถุน ุงูุฅูุชุงุฌ

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ
ูุฐุง ุงูููู ูุญุชูู ุนูู **ุฌููุน ุงูุจูุงูุงุช** ุงููุทููุจุฉ ูุชุดุบูู ุงููููุน ูู ูุถุน ุงูุฅูุชุงุฌ.

---

## ๐ฅ Firebase Firestore Collections

### ๐ ูุงุฆูุฉ ุงูู Collections ุงููุทููุจุฉ:
1. โ `bookings` - ุญุฌูุฒุงุช ุงูุจุงูุงุช ูุงูุฌูุณุงุช
2. โ `videos` - ููุฏูููุงุช ุงูููุชููุจ
3. โ `users` - ูุณุชุฎุฏูู ููุญุฉ ุงูุชุญูู (ุงุฎุชูุงุฑู)

---

## 1๏ธโฃ Collection: `bookings`

### ุงููุตู:
ุชุฎุฒูู ุฌููุน ุงูุญุฌูุฒุงุช ูู ุงููููุน (ุจุงูุงุช ุงููุฑุขูุ ุฌูุณุงุช ููุณูุฉุ ุชุนููู ุงููุบุฉ ุงูุนุฑุจูุฉ)

### ุงูุญููู ุงููุทููุจุฉ:

```javascript
{
  name: string,              // ุงุณู ุงูุนููู
  country: string,           // ุงูุฏููุฉ
  countryCode: string,       // ุฑูุฒ ุงูุฏููุฉ (+20, +966, etc)
  phone: string,             // ุฑูู ุงููุงุชู ุงููุงูู ูุน ุงูุฑูุฒ
  whatsapp: string,          // ุฑูู ุงููุงุชุณุงุจ ุงููุงูู ูุน ุงูุฑูุฒ
  packageName: string,       // ุงุณู ุงูุจุงูุฉ ุฃู ุงูุฌูุณุฉ
  priceEGP: string,          // ุงูุณุนุฑ ุจุงูุฌููู (ูุฏ ูููู ูุงุฑุบ)
  priceUSD: string,          // ุงูุณุนุฑ ุจุงูุฏููุงุฑ (ูุฏ ูููู ูุงุฑุบ)
  packageType: string,       // 'individual' ุฃู 'group'
  studentCount: number,      // ุนุฏุฏ ุงูุทูุงุจ (ูููุฌููุนุงุช)
  status: string,            // 'pending' | 'confirmed' | 'cancelled'
  createdAt: timestamp       // ุชุงุฑูุฎ ุงูุฅูุดุงุก
}
```

### ๐ ูุง ุญุงุฌุฉ ูุฅุถุงูุฉ ุจูุงูุงุช ูุณุจูุงู
- ูุฐุง ุงูู Collection ุณูุชู ููุคู ุชููุงุฆูุงู ุนูุฏ ููุงู ุงููุณุชุฎุฏููู ุจุงูุญุฌุฒ ูู ุงููููุน
- ููููู ูุฑุงุฌุนุฉ ุงูุญุฌูุฒุงุช ูู ููุญุฉ ุงูุชุญูู

### โ๏ธ Firestore Rules:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /bookings/{booking} {
      // ุงูุณูุงุญ ุจุงููุฑุงุกุฉ ูููุตุงุฏููู ููุท (ููุญุฉ ุงูุชุญูู)
      allow read: if request.auth != null;
      // ุงูุณูุงุญ ุจุงููุชุงุจุฉ ููุฌููุน (ูููุฐุฌ ุงูุญุฌุฒ)
      allow create: if true;
      // ุงูุณูุงุญ ุจุงูุชุญุฏูุซ ูุงูุญุฐู ูููุตุงุฏููู ููุท
      allow update, delete: if request.auth != null;
    }
  }
}
```

---

## 2๏ธโฃ Collection: `videos`

### ุงููุตู:
ููุฏูููุงุช ุงูููุชููุจ ุงูุชู ุชุธูุฑ ูู ูุณู "ููุงุกุงุช ูุญููุงุช ุชููุฒููููุฉ"

### ุงูุญููู ุงููุทููุจุฉ:

```javascript
{
  title: string,             // ุนููุงู ุงูููุฏูู
  description: string,       // ูุตู ูุฎุชุตุฑ
  youtubeUrl: string,        // ุงูุฑุงุจุท ุงููุงูู ููููุฏูู
  youtubeId: string,         // ูุนุฑู ุงูููุฏูู ุนูู ููุชููุจ
  order: number,             // ุชุฑุชูุจ ุงูุนุฑุถ (1, 2, 3...)
  isActive: boolean,         // ูู ุงูููุฏูู ูุดุทุ
  createdAt: timestamp       // ุชุงุฑูุฎ ุงูุฅุถุงูุฉ
}
```

### ๐ ุจูุงูุงุช ุชุฌุฑูุจูุฉ (ุฃุถู ูุฐู ุงูููุฏูููุงุช):

#### ููุฏูู 1:
```javascript
{
  title: "ููุฏูุฉ ุนู ุงูุฃูุงุฏูููุฉ",
  description: "ูุจุฐุฉ ุชุนุฑูููุฉ ุนู ุฃูุงุฏูููุฉ ูุตุทูู ูุงูู ูุชุนููู ุงููุฑุขู ุงููุฑูู",
  youtubeUrl: "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
  youtubeId: "dQw4w9WgXcQ",
  order: 1,
  isActive: true,
  createdAt: [ุงุถุบุท ุนูู ุฃููููุฉ ุงูู timestamp]
}
```

#### ููุฏูู 2:
```javascript
{
  title: "ุฃูููุฉ ุชุนููู ุงููุฑุขู ููุฃุทูุงู",
  description: "ุญููุฉ ุนู ุฃูููุฉ ุชุญููุธ ุงููุฑุขู ุงููุฑูู ููุฃุทูุงู ูู ุณู ูุจูุฑุฉ",
  youtubeUrl: "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
  youtubeId: "dQw4w9WgXcQ",
  order: 2,
  isActive: true,
  createdAt: [ุงุถุบุท ุนูู ุฃููููุฉ ุงูู timestamp]
}
```

#### ููุฏูู 3:
```javascript
{
  title: "ุงูุชุฑุจูุฉ ุงูููุณูุฉ ูู ุชุนููู ุงููุฑุขู",
  description: "ุฏูุฑ ุงูุชุฑุจูุฉ ุงูููุณูุฉ ูู ุชุญููุธ ูุชุนููู ุงููุฑุขู ุงููุฑูู",
  youtubeUrl: "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
  youtubeId: "dQw4w9WgXcQ",
  order: 3,
  isActive: true,
  createdAt: [ุงุถุบุท ุนูู ุฃููููุฉ ุงูู timestamp]
}
```

### ๐ก ููููุฉ ุงูุญุตูู ุนูู YouTube ID:

ูู ุงูุฑุงุจุท:
```
https://www.youtube.com/watch?v=dQw4w9WgXcQ
                              ^^^^^^^^^^^
                              ูุฐุง ูู ุงูู ID
```

ุฃู ูู ุงูุฑุงุจุท ุงููุฎุชุตุฑ:
```
https://youtu.be/dQw4w9WgXcQ
                 ^^^^^^^^^^^
                 ูุฐุง ูู ุงูู ID
```

### โ๏ธ Firestore Rules:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /videos/{video} {
      // ุงูุณูุงุญ ุจุงููุฑุงุกุฉ ููุฌููุน
      allow read: if true;
      // ุงูุณูุงุญ ุจุงููุชุงุจุฉ ูููุตุงุฏููู ููุท (ููุญุฉ ุงูุชุญูู)
      allow create, update, delete: if request.auth != null;
    }
  }
}
```

---

## 3๏ธโฃ Firebase Authentication

### ุงููุทููุจ:
- ุชูุนูู **Email/Password Authentication**
- ุฅูุดุงุก ุญุณุงุจ ูุณุคูู ูุงุญุฏ ุนูู ุงูุฃูู

### ุฎุทูุงุช ุงูุฅุนุฏุงุฏ:

1. ุงุฐูุจ ุฅูู **Firebase Console**
2. ุงุฎุชุฑ **Authentication** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
3. ุงุถุบุท ุนูู **Get Started**
4. ุงุฎุชุฑ **Email/Password** ููุนููู
5. ุงุถุบุท ุนูู **Add User**
6. ุฃุฏุฎู:
   - Email: `admin@mostafa-academy.com`
   - Password: `[ูููุฉ ุณุฑ ูููุฉ]`
7. ุงุญูุธ ุงูุจูุงูุงุช ูู ููุงู ุขูู

---

## ๐ Firestore Security Rules ุงููุงููุฉ

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Bookings Collection
    match /bookings/{booking} {
      allow read: if request.auth != null;
      allow create: if true;
      allow update, delete: if request.auth != null;
    }
    
    // Videos Collection
    match /videos/{video} {
      allow read: if true;
      allow create, update, delete: if request.auth != null;
    }
    
    // Users Collection (optional)
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

---

## ๐ ุฎุทูุงุช ุงูุชุทุจูู ุงูุณุฑูุนุฉ

### 1. ุฅุนุฏุงุฏ Firestore:

1. ุงูุชุญ [Firebase Console](https://console.firebase.google.com/)
2. ุงุฎุชุฑ ูุดุฑูุนู `mostafa-acdemy`
3. ุงุฐูุจ ุฅูู **Firestore Database**
4. ุงุถุบุท ุนูู **Start collection**

### 2. ุฅูุดุงุก Collection: videos

1. ุงุณู ุงูู Collection: `videos`
2. ุงุถุบุท **Next**
3. ุฃุถู ุฃูู ูุณุชูุฏ:
   - Document ID: ุงุชุฑูู ุชููุงุฆู
   - ุงูุญููู ููุง ูู ุงููุณู 2๏ธโฃ ุฃุนูุงู
4. ุงุถุบุท **Save**
5. ูุฑุฑ ูุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูููุฏูููุงุช

### 3. ุฅูุดุงุก Collection: bookings

1. ุงุณู ุงูู Collection: `bookings`
2. ูุง ุญุงุฌุฉ ูุฅุถุงูุฉ ูุณุชูุฏุงุช ุงูุขู
3. ุณูุชู ุฅุถุงูุชูุง ุชููุงุฆูุงู ูู ุงููููุน

### 4. ุถุจุท Rules:

1. ุงุฐูุจ ุฅูู **Firestore Database** โ **Rules**
2. ุงูุณุฎ ูุงูุตู ุงูู Rules ูู ุงูุฃุนูู
3. ุงุถุบุท **Publish**

### 5. ุฅุนุฏุงุฏ Authentication:

1. ุงุฐูุจ ุฅูู **Authentication**
2. ูุนูู **Email/Password**
3. ุฃุถู ูุณุชุฎุฏู admin ููุง ูู ุงููุณู 3๏ธโฃ

---

## โ ุงูุชุญูู ูู ูุฌุงุญ ุงูุฅุนุฏุงุฏ

### ุงุฎุชุจุงุฑ ุงููููุน:

1. **ุงุฎุชุจุงุฑ ุงูุญุฌุฒ:**
   - ุงูุชุญ ุงููููุน
   - ุฌุฑุจ ุญุฌุฒ ุฃู ุจุงูุฉ
   - ุชุญูู ูู ุธููุฑ ุงูุจูุงูุงุช ูู Firestore โ bookings

2. **ุงุฎุชุจุงุฑ ุงูููุฏูููุงุช:**
   - ุงูุชุญ ุงููููุน
   - ุงูุชูู ููุณู "ููุงุกุงุช ูุญููุงุช ุชููุฒููููุฉ"
   - ูุฌุจ ุฃู ุชุธูุฑ ุงูููุฏูููุงุช ุงูุชู ุฃุถูุชูุง

3. **ุงุฎุชุจุงุฑ ููุญุฉ ุงูุชุญูู:**
   - ุงูุชุญ `/admin.html`
   - ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุงูู admin
   - ูุฌุจ ุฃู ุชุฑู ุฌููุน ุงูุญุฌูุฒุงุช

---

## ๐ฏ ููุงุญุธุงุช ูููุฉ ููุฅูุชุงุฌ

### โ ูุฌุจ ุงูุชุฃูุฏ ูู:

1. **Firebase Config**: 
   - ููู `firebase.ts` ูุญุชูู ุนูู ุจูุงูุงุช ุงููุดุฑูุน ุงูุตุญูุญุฉ
   
2. **Domain ูู Firebase:**
   - ุฃุถู domain ุงููููุน ูู Firebase Console โ Authentication โ Settings โ Authorized domains

3. **Environment Variables:**
   - ุชุฃูุฏ ูู ุฃู `.env` ูุญุชูู ุนูู ุงูููุงุชูุญ ุงูุตุญูุญุฉ (ุฅู ูุฌุฏุช)

4. **Build ููุฅูุชุงุฌ:**
   ```bash
   npm run build
   ```

5. **Deploy:**
   - ุชุฃูุฏ ูู ุฑูุน ูุฌูุฏ `dist` ููุณูุฑูุฑ
   - ุฃู ุงุณุชุฎุฏู Firebase Hosting / Vercel

---

## ๐ ุฃูุงู ุงูุฅูุชุงุฌ

### โ๏ธ ููู ุฌุฏุงู:

1. **ูุง ุชุดุงุฑู Firebase Config ุนููุงู** ูู GitHub
2. **ุงุณุชุฎุฏู Environment Variables** ููููุงุชูุญ ุงูุญุณุงุณุฉ
3. **ูุนูู reCAPTCHA** ูููุงุฐุฌ ุงูุญุฌุฒ (ุงุฎุชูุงุฑู)
4. **ุฑุงุฌุน Firestore Rules** ุจุงูุชุธุงู
5. **ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ** ูู ุงูุจูุงูุงุช

---

## ๐ ุงูุฏุนู ุงูููู

ูู ุญุงู ูุงุฌูุช ุฃู ูุดููุฉ:

1. ุฑุงุฌุน **Firebase Console** โ **Logs**
2. ุงูุชุญ **Browser Console** ููุฃุฎุทุงุก
3. ุชุญูู ูู **Network Tab** ูุทูุจุงุช API

---

## โจ ุงูุฎูุงุตุฉ

### ุงูุจูุงูุงุช ุงููุทููุจุฉ ููุฑุงู:
- โ **Videos Collection** - ุฃุถู 3-5 ููุฏูููุงุช ุนูู ุงูุฃูู
- โ **Admin User** - ุญุณุงุจ ูุงุญุฏ ูููุตูู ูููุญุฉ ุงูุชุญูู
- โ **Firestore Rules** - ุงูุณุฎูุง ููุง ูู

### ุงูุจูุงูุงุช ุงูุชููุงุฆูุฉ:
- โ **Bookings** - ุชูุถุงู ุชููุงุฆูุงู ูู ุงููููุน

---

**ุชุงุฑูุฎ ุงูุฅุนุฏุงุฏ:** ${new Date().toLocaleDateString('ar-EG')}

**ุงููููุน ุงูุขู ุฌุงูุฒ 100% ููุฅูุชุงุฌ! ๐**
